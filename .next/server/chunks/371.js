"use strict";exports.id=371,exports.ids=[371],exports.modules={69266:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(45512),i=s(58009),r=s(45103),l=s(43286),o=s(49656),n=s(6648),c=s(24540);function d({src:e,alt:t,className:s="",objectFit:d="cover",sizes:u,onUpdate:p,onDelete:m,category:h="general"}){let[x,g]=(0,i.useState)(!1),[b,f]=(0,i.useState)(!1),[j,v]=(0,i.useState)(!1),y=(0,i.useRef)(null),w=async e=>{let t=e.target.files?.[0];if(t){if(t.size>0xa00000){alert("파일 크기는 10MB 이하여야 합니다.");return}if(!["image/jpeg","image/png","image/webp"].includes(t.type)){alert("JPG, PNG, WebP 형식만 지원됩니다.");return}v(!0);try{let e=new FormData;e.append("file",t),e.append("fileName",t.name),e.append("folder",`/redux/${h}`);let s=new FileReader;s.onloadend=async()=>{try{let e=s.result,a=await fetch("/api/imagekit/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:e,fileName:t.name,folder:`/redux/${h}`})});if(!a.ok)throw Error("업로드 실패");let i=await a.json();p&&p(i.url),alert("이미지가 성공적으로 업로드되었습니다.")}catch(e){alert("이미지 업로드에 실패했습니다.")}finally{v(!1)}},s.readAsDataURL(t)}catch(e){alert("파일 처리 중 오류가 발생했습니다."),v(!1)}y.current&&(y.current.value="")}};return(0,a.jsxs)("div",{className:"relative h-full w-full group",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[(0,a.jsx)(r.default,{src:e,alt:t,fill:!0,className:`${s} ${"cover"===d?"object-cover":`object-${d}`}`,sizes:u}),(0,a.jsx)(n.N,{children:x&&b&&!j&&(0,a.jsxs)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 flex items-center justify-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>y.current?.click(),className:"p-3 bg-white/10 hover:bg-white/20 rounded-full backdrop-blur-sm transition-colors",title:"이미지 변경",children:(0,a.jsx)(l.A,{size:20})}),m&&(0,a.jsx)("button",{onClick:()=>{window.confirm("이 이미지를 삭제하시겠습니까?")&&m&&m()},className:"p-3 bg-red-600/20 hover:bg-red-600/30 rounded-full backdrop-blur-sm transition-colors",title:"이미지 삭제",children:(0,a.jsx)(o.A,{size:20})})]})}),j&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-sm",children:"업로드 중..."})]})}),(0,a.jsx)("input",{ref:y,type:"file",accept:"image/jpeg,image/png,image/webp",onChange:w,className:"hidden"})]})}},61371:(e,t,s)=>{s.d(t,{A:()=>c});var a=s(45512),i=s(58009),r=s(45103),l=s(24540),o=s(84231),n=s(69266);function c({images:e,columns:t=3,gap:s=6,category:c="gallery",editable:d=!1,onImagesUpdate:u}){let[p,m]=(0,i.useState)(e),[h,x]=(0,i.useState)(!1),[g,b]=(0,i.useState)(0),f=(e,t)=>{let s=[...p];s[e]=t,m(s),u?.(s)},j=e=>{let t=p.filter((t,s)=>s!==e);m(t),u?.(t)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:`grid grid-cols-1 ${{2:"md:grid-cols-2",3:"md:grid-cols-2 lg:grid-cols-3",4:"md:grid-cols-2 lg:grid-cols-4"}[t]} gap-${s}`,children:p.map((e,t)=>(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},className:"relative aspect-[3/4] overflow-hidden rounded-lg bg-zinc-900 cursor-pointer group",onClick:()=>{b(t),x(!0)},children:[d?(0,a.jsx)(n.A,{src:e,alt:`Gallery image ${t+1}`,className:"object-cover hover:scale-110 transition-transform duration-700",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",onUpdate:e=>f(t,e),onDelete:()=>j(t),category:c}):(0,a.jsx)(r.default,{src:e,alt:`Gallery image ${t+1}`,fill:!0,className:"object-cover hover:scale-110 transition-transform duration-700",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",children:(0,a.jsx)("div",{className:"w-12 h-12 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center",children:(0,a.jsxs)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]},t))}),(0,a.jsx)(o.A,{images:p,currentIndex:g,isOpen:h,onClose:()=>x(!1),onNext:()=>b(e=>(e+1)%p.length),onPrevious:()=>b(e=>(e-1+p.length)%p.length)})]})}},84231:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(45512),i=s(58009),r=s(45103),l=s(62215),o=s(29156),n=s(44269),c=s(52706),d=s(99905),u=s(6648),p=s(24540);function m({images:e,currentIndex:t,isOpen:s,onClose:m,onNext:h,onPrevious:x}){let[g,b]=(0,i.useState)(1),[f,j]=(0,i.useState)({x:0,y:0}),[v,y]=(0,i.useState)(!1),w=()=>{b(e=>Math.min(e+.5,3))},N=()=>{b(e=>Math.max(e-.5,1)),g<=1.5&&j({x:0,y:0})},k=()=>{y(!1)};return s?(0,a.jsx)(u.N,{children:s&&(0,a.jsxs)(p.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm",onClick:m,children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 p-4 z-10 bg-gradient-to-b from-black/50 to-transparent",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),N()},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",disabled:g<=1,children:(0,a.jsx)(l.A,{size:20})}),(0,a.jsxs)("span",{className:"text-sm",children:[Math.round(100*g),"%"]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),w()},className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",disabled:g>=3,children:(0,a.jsx)(o.A,{size:20})})]}),(0,a.jsx)("button",{onClick:m,className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:(0,a.jsx)(n.A,{size:24})})]})}),(0,a.jsx)(p.P.div,{className:"absolute inset-0 flex items-center justify-center p-16",onClick:e=>e.stopPropagation(),onMouseDown:()=>{g>1&&y(!0)},onMouseMove:e=>{v&&g>1&&j(t=>({x:t.x+e.movementX,y:t.y+e.movementY}))},onMouseUp:k,onMouseLeave:k,style:{cursor:v?"grabbing":g>1?"grab":"default"},children:(0,a.jsx)(p.P.div,{animate:{scale:g,x:f.x,y:f.y},transition:{type:"spring",damping:20},className:"relative w-full h-full",children:(0,a.jsx)(r.default,{src:e[t],alt:`Image ${t+1}`,fill:!0,className:"object-contain select-none",sizes:"100vw",priority:!0})})}),x&&t>0&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),x()},className:"absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:(0,a.jsx)(c.A,{size:32})}),h&&t<e.length-1&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),h()},className:"absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:(0,a.jsx)(d.A,{size:32})}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/50 to-transparent",children:(0,a.jsx)("div",{className:"flex items-center justify-center gap-2 overflow-x-auto py-2",children:e.map((e,s)=>(0,a.jsx)(p.P.button,{onClick:e=>{e.stopPropagation()},whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative w-16 h-16 rounded overflow-hidden transition-all ${s===t?"ring-2 ring-white ring-offset-2 ring-offset-black":"opacity-50 hover:opacity-100"}`,children:(0,a.jsx)(r.default,{src:e,alt:`Thumbnail ${s+1}`,fill:!0,className:"object-cover",sizes:"64px"})},s))})})]})}):null}}};