(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1806:(e,s,t)=>{Promise.resolve().then(t.bind(t,7929))},5353:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useMergedRef",{enumerable:!0,get:function(){return l}});let a=t(2115);function l(e,s){let t=(0,a.useRef)(()=>{}),l=(0,a.useRef)(()=>{});return(0,a.useMemo)(()=>e&&s?a=>{null===a?(t.current(),l.current()):(t.current=r(e,a),l.current=r(s,a))}:e||s,[e,s])}function r(e,s){if("function"!=typeof e)return e.current=s,()=>{e.current=null};{let t=e(s);return"function"==typeof t?t:()=>e(null)}}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},7929:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(5155),l=t(2115),r=t(5427),i=t(5683),n=t(6989),d=t(3227),c=t(9909),o=t(4370);let u=[{value:"designers",label:"Designers"},{value:"about",label:"About"},{value:"exhibitions",label:"Exhibitions"},{value:"contact",label:"Contact"},{value:"memory",label:"Memory"},{value:"visual-art",label:"Visual Art"},{value:"collective",label:"Collective"},{value:"fashion-film",label:"Fashion Film"},{value:"installation",label:"Installation"}];function m(){let[e,s]=(0,l.useState)(""),[t,m]=(0,l.useState)(""),[x,h]=(0,l.useState)(!1),[b,g]=(0,l.useState)("login"),[p,f]=(0,l.useState)([]),[j,y]=(0,l.useState)("designers"),[v,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)({quality:85,maxWidth:1920,maxHeight:1080,format:"webp"}),{isAdmin:P,adminData:C,login:D,logout:O}=(0,n.z)(),{success:R,error:_,info:S}=(0,d.d)(),U=(0,l.useRef)(null),A=async a=>{a.preventDefault(),h(!0),await new Promise(e=>setTimeout(e,1e3)),D(e,t)?(R("로그인 성공! 이제 이미지를 관리할 수 있습니다."),s(""),m(""),g("manage")):_("로그인 실패. 사용자명과 비밀번호를 확인해주세요."),h(!1)},H=(0,l.useCallback)(e=>{let s=Array.from(e.target.files||[]).map(e=>({file:e,preview:URL.createObjectURL(e),folder:j,status:"pending",progress:0}));f(e=>[...e,...s])},[j]),T=(0,l.useCallback)(e=>{e.preventDefault();let s=Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/")).map(e=>({file:e,preview:URL.createObjectURL(e),folder:j,status:"pending",progress:0}));f(e=>[...e,...s])},[j]),q=e=>{f(s=>(URL.revokeObjectURL(s[e].preview),s.filter((s,t)=>t!==e)))},E=async()=>{if(0!==p.length){N(!0);for(let e=0;e<p.length;e++){f(s=>s.map((s,t)=>t===e?{...s,status:"uploading",progress:0}:s));try{let s=new FormData;s.append("file",p[e].file),s.append("folder",p[e].folder);for(let s=0;s<=100;s+=20)f(t=>t.map((t,a)=>a===e?{...t,progress:s}:t)),await new Promise(e=>setTimeout(e,100));if((await fetch("/api/imagekit/upload",{method:"POST",body:s})).ok)f(s=>s.map((s,t)=>t===e?{...s,status:"success",progress:100}:s));else throw Error("Upload failed")}catch(s){f(t=>t.map((t,a)=>a===e?{...t,status:"error",error:s instanceof Error?s.message:"Upload failed"}:t))}}N(!1),R("".concat(p.filter(e=>"success"===e.status).length,"개 파일이 성공적으로 업로드되었습니다."))}};return P||"login"===b||g("login"),(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)(c.A,{}),(0,a.jsx)("section",{className:"pt-24 pb-16 min-h-screen",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-6",children:[(0,a.jsxs)(r.P.div,{className:"text-center mb-12",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[(0,a.jsx)("h1",{className:"font-serif text-4xl md:text-5xl font-light tracking-wider text-black mb-4",children:"Admin Dashboard"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm uppercase tracking-widest",children:"Advanced Image Management Portal"})]}),P&&(0,a.jsx)(r.P.div,{className:"flex justify-center mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:(0,a.jsx)("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[{id:"manage",label:"이미지 관리"},{id:"bulk",label:"일괄 업로드"},{id:"optimize",label:"최적화 설정"}].map(e=>(0,a.jsx)("button",{onClick:()=>g(e.id),className:"px-6 py-3 rounded-md text-sm font-medium transition-all duration-200 ".concat(b===e.id?"bg-white text-black shadow-sm":"text-gray-600 hover:text-black"),children:e.label},e.id))})}),(0,a.jsxs)(i.N,{mode:"wait",children:["login"===b&&!P&&(0,a.jsx)(r.P.div,{className:"max-w-md mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6},children:(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-center text-black mb-6",children:"관리자 로그인"}),(0,a.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"사용자명"}),(0,a.jsx)("input",{type:"text",id:"username",value:e,onChange:e=>s(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200",placeholder:"admin",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),(0,a.jsx)("input",{type:"password",id:"password",value:t,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent transition-all duration-200",placeholder:"••••••••",required:!0})]}),(0,a.jsx)(r.P.button,{type:"submit",disabled:x,className:"w-full bg-black text-white py-3 px-6 rounded-lg hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",whileHover:{scale:x?1:1.02},whileTap:{scale:x?1:.98},children:x?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(r.P.div,{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full mr-3",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),"로그인 중..."]}):"로그인"})]}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600 text-center",children:[(0,a.jsx)("strong",{children:"데모 계정:"}),(0,a.jsx)("br",{}),"사용자명: admin",(0,a.jsx)("br",{}),"비밀번호: redux2025"]})})]})},"login"),"manage"===b&&P&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6},children:(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-medium text-black mb-2",children:["환영합니다, ",null==C?void 0:C.username,"님!"]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"웹사이트의 모든 이미지를 관리할 수 있습니다."})]}),(0,a.jsx)(r.P.button,{onClick:()=>{O(),g("login"),f([]),S("로그아웃되었습니다.")},className:"bg-red-500 text-white py-2 px-6 rounded-lg hover:bg-red-600 transition-all duration-200 font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:"로그아웃"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-6 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-green-800 mb-3",children:"✅ 활성화된 기능"}),(0,a.jsxs)("ul",{className:"text-sm text-green-700 space-y-2",children:[(0,a.jsx)("li",{children:"• 개별 이미지 업로드 및 교체"}),(0,a.jsx)("li",{children:"• 이미지 삭제 및 복구"}),(0,a.jsx)("li",{children:"• 일괄 업로드 (최대 50개)"}),(0,a.jsx)("li",{children:"• 실시간 미리보기"}),(0,a.jsx)("li",{children:"• 드래그앤드롭 업로드"}),(0,a.jsx)("li",{children:"• 이미지 최적화"})]})]}),(0,a.jsxs)("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-blue-800 mb-3",children:"\uD83D\uDCDD 사용 방법"}),(0,a.jsxs)("ol",{className:"text-sm text-blue-700 space-y-2",children:[(0,a.jsx)("li",{children:"1. 개별 이미지: 이미지에 마우스를 올려 관리 버튼 사용"}),(0,a.jsx)("li",{children:'2. 일괄 업로드: "일괄 업로드" 탭에서 여러 파일 선택'}),(0,a.jsx)("li",{children:'3. 최적화 설정: "최적화 설정" 탭에서 품질 조정'}),(0,a.jsx)("li",{children:"4. 폴더별 관리: 각 섹션별로 이미지 분류"})]})]})]})]})},"manage"),"bulk"===b&&P&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6},children:(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-black mb-6",children:"일괄 이미지 업로드"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"업로드 폴더"}),(0,a.jsx)("select",{value:j,onChange:e=>y(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:u.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsx)("div",{onDrop:T,onDragOver:e=>{e.preventDefault()},className:"border-2 border-dashed border-gray-300 rounded-lg p-12 text-center hover:border-black transition-colors duration-200",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"text-6xl",children:"\uD83D\uDCC1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900",children:"이미지를 드래그하여 놓거나 클릭하여 선택하세요"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"JPG, PNG, WebP 파일 지원 (최대 50개)"})]}),(0,a.jsx)(r.P.button,{onClick:()=>{var e;return null===(e=U.current)||void 0===e?void 0:e.click()},className:"bg-black text-white py-3 px-6 rounded-lg hover:bg-gray-800 transition-all duration-200 font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:"파일 선택"})]})}),(0,a.jsx)("input",{ref:U,type:"file",multiple:!0,accept:"image/*",onChange:H,className:"hidden"}),p.length>0&&(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-black",children:["선택된 파일 (",p.length,"개)"]}),(0,a.jsxs)("div",{className:"space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{f(e=>(e.filter(e=>"success"===e.status||"error"===e.status).forEach(e=>URL.revokeObjectURL(e.preview)),e.filter(e=>"pending"===e.status||"uploading"===e.status)))},className:"text-sm text-gray-600 hover:text-black transition-colors",children:"완료된 파일 제거"}),(0,a.jsx)(r.P.button,{onClick:E,disabled:v||p.every(e=>"pending"!==e.status),className:"bg-green-500 text-white py-2 px-6 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",whileHover:{scale:v?1:1.02},whileTap:{scale:v?1:.98},children:v?"업로드 중...":"전체 업로드"})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:p.map((e,s)=>(0,a.jsxs)(r.P.div,{className:"relative bg-gray-50 rounded-lg p-4",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.05*s},children:[(0,a.jsxs)("div",{className:"aspect-square relative mb-3 overflow-hidden rounded-lg",children:[(0,a.jsx)("img",{src:e.preview,alt:e.file.name,className:"w-full h-full object-cover"}),"uploading"===e.status&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-white text-center",children:[(0,a.jsx)(r.P.div,{className:"w-8 h-8 border-2 border-white/30 border-t-white rounded-full mx-auto mb-2",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),(0,a.jsxs)("div",{className:"text-sm",children:[e.progress,"%"]})]})}),"success"===e.status&&(0,a.jsx)("div",{className:"absolute inset-0 bg-green-500/80 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-2xl",children:"✓"})}),"error"===e.status&&(0,a.jsx)("div",{className:"absolute inset-0 bg-red-500/80 flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white text-2xl",children:"✗"})})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 truncate mb-2",children:e.file.name}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[(e.file.size/1024/1024).toFixed(1),"MB"]}),"pending"===e.status&&(0,a.jsx)("button",{onClick:()=>q(s),className:"text-red-500 hover:text-red-700 text-sm",children:"제거"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("pending"===e.status?"bg-gray-200 text-gray-700":"uploading"===e.status?"bg-blue-200 text-blue-700":"success"===e.status?"bg-green-200 text-green-700":"bg-red-200 text-red-700"),children:"pending"===e.status?"대기중":"uploading"===e.status?"업로드중":"success"===e.status?"완료":"실패"})]}),e.error&&(0,a.jsx)("div",{className:"text-xs text-red-600 mt-2",children:e.error})]},s))})]})]})},"bulk"),"optimize"===b&&P&&(0,a.jsx)(r.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.6},children:(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-8 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-black mb-6",children:"이미지 최적화 설정"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-black mb-4",children:"품질 설정"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["이미지 품질: ",w.quality,"%"]}),(0,a.jsx)("input",{type:"range",min:"1",max:"100",value:w.quality,onChange:e=>k(s=>({...s,quality:parseInt(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"낮음"}),(0,a.jsx)("span",{children:"높음"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"최대 너비 (px)"}),(0,a.jsx)("input",{type:"number",value:w.maxWidth,onChange:e=>k(s=>({...s,maxWidth:parseInt(e.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",min:"100",max:"4000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"최대 높이 (px)"}),(0,a.jsx)("input",{type:"number",value:w.maxHeight,onChange:e=>k(s=>({...s,maxHeight:parseInt(e.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",min:"100",max:"4000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"출력 형식"}),(0,a.jsxs)("select",{value:w.format,onChange:e=>k(s=>({...s,format:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[(0,a.jsx)("option",{value:"original",children:"원본 유지"}),(0,a.jsx)("option",{value:"webp",children:"WebP (권장)"}),(0,a.jsx)("option",{value:"jpg",children:"JPEG"}),(0,a.jsx)("option",{value:"png",children:"PNG"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-black mb-4",children:"미리보기"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"품질:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[w.quality,"%"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"최대 해상도:"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[w.maxWidth," \xd7 ",w.maxHeight]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"형식:"}),(0,a.jsx)("span",{className:"text-sm font-medium uppercase",children:w.format})]})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\uD83D\uDCA1 최적화 팁"}),(0,a.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,a.jsx)("li",{children:"• WebP 형식은 파일 크기를 30-50% 줄일 수 있습니다"}),(0,a.jsx)("li",{children:"• 품질 85%는 최적의 균형점입니다"}),(0,a.jsx)("li",{children:"• 웹용 이미지는 1920px 이하를 권장합니다"})]})]})]})]})]}),(0,a.jsx)("div",{className:"mt-8 flex justify-end",children:(0,a.jsx)(r.P.button,{onClick:()=>R("설정이 저장되었습니다."),className:"bg-black text-white py-3 px-8 rounded-lg hover:bg-gray-800 transition-all duration-200 font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:"설정 저장"})})]})},"optimize")]})]})}),(0,a.jsx)(o.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[427,173,656,441,517,358],()=>s(1806)),_N_E=e.O()}]);